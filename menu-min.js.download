(function(){var b=YAHOO.util.Dom,a=YAHOO.util.Event;YAHOO.widget.MenuManager=function(){var n=false,f={},q={},j={},e={click:"clickEvent",mousedown:"mouseDownEvent",mouseup:"mouseUpEvent",mouseover:"mouseOverEvent",mouseout:"mouseOutEvent",keydown:"keyDownEvent",keyup:"keyUpEvent",keypress:"keyPressEvent"},k=null;function d(s){var r;if(s&&s.tagName){switch(s.tagName.toUpperCase()){case"DIV":r=s.parentNode;if((b.hasClass(s,"hd")||b.hasClass(s,"bd")||b.hasClass(s,"ft"))&&r&&r.tagName&&r.tagName.toUpperCase()=="DIV"){return r}else{return s}break;case"LI":return s;default:r=s.parentNode;if(r){return d(r)}break}}}function g(v){var r=a.getTarget(v),s=d(r),x,t,u,z,y;if(s){t=s.tagName.toUpperCase();if(t=="LI"){u=s.id;if(u&&j[u]){z=j[u];y=z.parent}}else{if(t=="DIV"){if(s.id){y=f[s.id]}}}}if(y){x=e[v.type];if(z&&!z.cfg.getProperty("disabled")){z[x].fire(v);if(v.type=="keyup"||v.type=="mousedown"){if(k!=z){if(k){k.blurEvent.fire()}z.focusEvent.fire()}}}y[x].fire(v,z)}else{if(v.type=="mousedown"){if(k){k.blurEvent.fire();k=null}for(var w in f){if(YAHOO.lang.hasOwnProperty(f,w)){y=f[w];if(y.cfg.getProperty("clicktohide")&&!(y instanceof YAHOO.widget.MenuBar)&&y.cfg.getProperty("position")=="dynamic"){y.hide()}else{y.clearActiveItem(true)}}}}else{if(v.type=="keyup"){if(k){k.blurEvent.fire();k=null}}}}}function p(s,r,t){if(f[t.id]){this.removeMenu(t)}}function m(s,r){var t=r[0];if(t){k=t}}function h(s,r){k=null}function c(t,s){var r=s[0],u=this.id;if(r){q[u]=this}else{if(q[u]){delete q[u]}}}function l(s,r){o(this)}function o(s){var r=s.id;if(r&&j[r]){if(k==s){k=null}delete j[r];s.destroyEvent.unsubscribe(l)}}function i(s,r){var u=r[0],t;if(u instanceof YAHOO.widget.MenuItem){t=u.id;if(!j[t]){j[t]=u;u.destroyEvent.subscribe(l)}}}return{addMenu:function(s){var r;if(s instanceof YAHOO.widget.Menu&&s.id&&!f[s.id]){f[s.id]=s;if(!n){r=document;a.on(r,"mouseover",g,this,true);a.on(r,"mouseout",g,this,true);a.on(r,"mousedown",g,this,true);a.on(r,"mouseup",g,this,true);a.on(r,"click",g,this,true);a.on(r,"keydown",g,this,true);a.on(r,"keyup",g,this,true);a.on(r,"keypress",g,this,true);n=true}s.cfg.subscribeToConfigEvent("visible",c);s.destroyEvent.subscribe(p,s,this);s.itemAddedEvent.subscribe(i);s.focusEvent.subscribe(m);s.blurEvent.subscribe(h)}},removeMenu:function(u){var s,r,t;if(u){s=u.id;if(f[s]==u){r=u.getItems();if(r&&r.length>0){t=r.length-1;do{o(r[t])}while(t--)}delete f[s];if(q[s]==u){delete q[s]}if(u.cfg){u.cfg.unsubscribeFromConfigEvent("visible",c)}u.destroyEvent.unsubscribe(p,u);u.itemAddedEvent.unsubscribe(i);u.focusEvent.unsubscribe(m);u.blurEvent.unsubscribe(h)}}},hideVisible:function(){var r;for(var s in q){if(YAHOO.lang.hasOwnProperty(q,s)){r=q[s];if(!(r instanceof YAHOO.widget.MenuBar)&&r.cfg.getProperty("position")=="dynamic"){r.hide()}}}},getMenus:function(){return f},getMenu:function(s){var r=f[s];if(r){return r}},getMenuItem:function(r){var s=j[r];if(s){return s}},getMenuItemGroup:function(u){var s=b.get(u),r,w,v,t;if(s&&s.tagName&&s.tagName.toUpperCase()=="UL"){w=s.firstChild;if(w){r=[];do{t=w.id;if(t){v=this.getMenuItem(t);if(v){r[r.length]=v}}}while((w=w.nextSibling));if(r.length>0){return r}}}},getFocusedMenuItem:function(){return k},getFocusedMenu:function(){if(k){return(k.parent.getRoot())}},toString:function(){return"MenuManager"}}}()})();(function(){YAHOO.widget.Menu=function(o,n){if(n){this.parent=n.parent;this.lazyLoad=n.lazyLoad||n.lazyload;this.itemData=n.itemData||n.itemdata}YAHOO.widget.Menu.superclass.constructor.call(this,o,n)};function i(n){if(typeof n=="string"){return("dynamic,static".indexOf((n.toLowerCase()))!=-1)}}var c=YAHOO.util.Dom,m=YAHOO.util.Event,d=YAHOO.widget.Module,b=YAHOO.widget.Overlay,f=YAHOO.widget.Menu,k=YAHOO.widget.MenuManager,l=YAHOO.util.CustomEvent,e=YAHOO.lang,h=YAHOO.env.ua,g,a={MOUSE_OVER:"mouseover",MOUSE_OUT:"mouseout",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",CLICK:"click",KEY_PRESS:"keypress",KEY_DOWN:"keydown",KEY_UP:"keyup",FOCUS:"focus",BLUR:"blur",ITEM_ADDED:"itemAdded",ITEM_REMOVED:"itemRemoved"},j={VISIBLE:{key:"visible",value:false,validator:e.isBoolean},CONSTRAIN_TO_VIEWPORT:{key:"constraintoviewport",value:true,validator:e.isBoolean,supercedes:["iframe","x","y","xy"]},POSITION:{key:"position",value:"dynamic",validator:i,supercedes:["visible","iframe"]},SUBMENU_ALIGNMENT:{key:"submenualignment",value:["tl","tr"]},AUTO_SUBMENU_DISPLAY:{key:"autosubmenudisplay",value:true,validator:e.isBoolean},SHOW_DELAY:{key:"showdelay",value:250,validator:e.isNumber},HIDE_DELAY:{key:"hidedelay",value:0,validator:e.isNumber,suppressEvent:true},SUBMENU_HIDE_DELAY:{key:"submenuhidedelay",value:250,validator:e.isNumber},CLICK_TO_HIDE:{key:"clicktohide",value:true,validator:e.isBoolean},CONTAINER:{key:"container"},MAX_HEIGHT:{key:"maxheight",value:0,validator:e.isNumber,supercedes:["iframe"]},CLASS_NAME:{key:"classname",value:null,validator:e.isString},DISABLED:{key:"disabled",value:false,validator:e.isBoolean,suppressEvent:true}};YAHOO.lang.extend(f,b,{CSS_CLASS_NAME:"yuimenu",ITEM_TYPE:null,GROUP_TITLE_TAG_NAME:"h6",_nHideDelayId:null,_nShowDelayId:null,_nSubmenuHideDelayId:null,_nBodyScrollId:null,_bHideDelayEventHandlersAssigned:false,_bHandledMouseOverEvent:false,_bHandledMouseOutEvent:false,_aGroupTitleElements:null,_aItemGroups:null,_aListElements:null,_nCurrentMouseX:0,_nMaxHeight:-1,_bStopMouseEventHandlers:false,_sClassName:null,lazyLoad:false,itemData:null,activeItem:null,parent:null,srcElement:null,mouseOverEvent:null,mouseOutEvent:null,mouseDownEvent:null,mouseUpEvent:null,clickEvent:null,keyPressEvent:null,keyDownEvent:null,keyUpEvent:null,itemAddedEvent:null,itemRemovedEvent:null,init:function(p,o){this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuItem}var n;if(typeof p=="string"){n=document.getElementById(p)}else{if(p.tagName){n=p}}if(n&&n.tagName){switch(n.tagName.toUpperCase()){case"DIV":this.srcElement=n;if(!n.id){n.setAttribute("id",c.generateId())}f.superclass.init.call(this,n);this.beforeInitEvent.fire(f);break;case"SELECT":this.srcElement=n;f.superclass.init.call(this,c.generateId());this.beforeInitEvent.fire(f);break}}else{f.superclass.init.call(this,p);this.beforeInitEvent.fire(f)}if(this.element){c.addClass(this.element,this.CSS_CLASS_NAME);this.initEvent.subscribe(this._onInit);this.beforeRenderEvent.subscribe(this._onBeforeRender);this.renderEvent.subscribe(this._onRender);this.renderEvent.subscribe(this.onRender);this.beforeShowEvent.subscribe(this._onBeforeShow);this.showEvent.subscribe(this._onShow);this.beforeHideEvent.subscribe(this._onBeforeHide);this.hideEvent.subscribe(this._onHide);this.mouseOverEvent.subscribe(this._onMouseOver);this.mouseOutEvent.subscribe(this._onMouseOut);this.clickEvent.subscribe(this._onClick);this.keyDownEvent.subscribe(this._onKeyDown);this.keyPressEvent.subscribe(this._onKeyPress);if(o){this.cfg.applyConfig(o,true)}k.addMenu(this);this.initEvent.fire(f)}},_initSubTree:function(){var o=this.srcElement,n,q,t,u,s,r,p;if(o){n=(o.tagName&&o.tagName.toUpperCase());if(n=="DIV"){u=this.body.firstChild;if(u){q=0;t=this.GROUP_TITLE_TAG_NAME.toUpperCase();do{if(u&&u.tagName){switch(u.tagName.toUpperCase()){case t:this._aGroupTitleElements[q]=u;break;case"UL":this._aListElements[q]=u;this._aItemGroups[q]=[];q++;break}}}while((u=u.nextSibling));if(this._aListElements[0]){c.addClass(this._aListElements[0],"first-of-type")}}}u=null;if(n){switch(n){case"DIV":s=this._aListElements;r=s.length;if(r>0){p=r-1;do{u=s[p].firstChild;if(u){do{if(u&&u.tagName&&u.tagName.toUpperCase()=="LI"){this.addItem(new this.ITEM_TYPE(u,{parent:this}),p)}}while((u=u.nextSibling))}}while(p--)}break;case"SELECT":u=o.firstChild;do{if(u&&u.tagName){switch(u.tagName.toUpperCase()){case"OPTGROUP":case"OPTION":this.addItem(new this.ITEM_TYPE(u,{parent:this}));break}}}while((u=u.nextSibling));break}}}},_getFirstEnabledItem:function(){var n=this.getItems(),q=n.length,p;for(var o=0;o<q;o++){p=n[o];if(p&&!p.cfg.getProperty("disabled")&&p.element.style.display!="none"){return p}}},_addItemToGroup:function(t,u,x){var v,p=this.cfg.getProperty("disabled"),y,r,w,s,o,q;function n(z,A){return(z[A]||n(z,(A+1)))}if(u instanceof this.ITEM_TYPE){v=u;v.parent=this}else{if(typeof u=="string"){v=new this.ITEM_TYPE(u,{parent:this})}else{if(typeof u=="object"){u.parent=this;v=new this.ITEM_TYPE(u.text,u)}}}if(v){if(v.cfg.getProperty("selected")){this.activeItem=v}y=typeof t=="number"?t:0;r=this._getItemGroup(y);if(!r){r=this._createItemGroup(y)}if(typeof x=="number"){s=(x>=r.length);if(r[x]){r.splice(x,0,v)}else{r[x]=v}w=r[x];if(w){if(s&&(!w.element.parentNode||w.element.parentNode.nodeType==11)){this._aListElements[y].appendChild(w.element)}else{o=n(r,(x+1));if(o&&(!w.element.parentNode||w.element.parentNode.nodeType==11)){this._aListElements[y].insertBefore(w.element,o.element)}}w.parent=this;this._subscribeToItemEvents(w);this._configureSubmenu(w);this._updateItemProperties(y);this.itemAddedEvent.fire(w);this.changeContentEvent.fire();return w}}else{q=r.length;r[q]=v;w=r[q];if(w){if(!c.isAncestor(this._aListElements[y],w.element)){this._aListElements[y].appendChild(w.element)}w.element.setAttribute("groupindex",y);w.element.setAttribute("index",q);w.parent=this;w.index=q;w.groupIndex=y;this._subscribeToItemEvents(w);this._configureSubmenu(w);if(q===0){c.addClass(w.element,"first-of-type")}this.itemAddedEvent.fire(w);this.changeContentEvent.fire();return w}}}},_removeItemFromGroupByIndex:function(q,o){var p=typeof q=="number"?q:0,r=this._getItemGroup(p),t,s,n;if(r){t=r.splice(o,1);s=t[0];if(s){this._updateItemProperties(p);if(r.length===0){n=this._aListElements[p];if(this.body&&n){this.body.removeChild(n)}this._aItemGroups.splice(p,1);this._aListElements.splice(p,1);n=this._aListElements[0];if(n){c.addClass(n,"first-of-type")}}this.itemRemovedEvent.fire(s);this.changeContentEvent.fire();return s}}},_removeItemFromGroupByValue:function(p,n){var r=this._getItemGroup(p),s,q,o;if(r){s=r.length;q=-1;if(s>0){o=s-1;do{if(r[o]==n){q=o;break}}while(o--);if(q>-1){return(this._removeItemFromGroupByIndex(p,q))}}}},_updateItemProperties:function(o){var p=this._getItemGroup(o),s=p.length,r,q,n;if(s>0){n=s-1;do{r=p[n];if(r){q=r.element;r.index=n;r.groupIndex=o;q.setAttribute("groupindex",o);q.setAttribute("index",n);c.removeClass(q,"first-of-type")}}while(n--);if(q){c.addClass(q,"first-of-type")}}},_createItemGroup:function(o){var n;if(!this._aItemGroups[o]){this._aItemGroups[o]=[];n=document.createElement("ul");this._aListElements[o]=n;return this._aItemGroups[o]}},_getItemGroup:function(o){var n=((typeof o=="number")?o:0);return this._aItemGroups[n]},_configureSubmenu:function(n){var o=n.cfg.getProperty("submenu");if(o){this.cfg.configChangedEvent.subscribe(this._onParentMenuConfigChange,o,true);this.renderEvent.subscribe(this._onParentMenuRender,o,true);o.beforeShowEvent.subscribe(this._onSubmenuBeforeShow)}},_subscribeToItemEvents:function(n){n.focusEvent.subscribe(this._onMenuItemFocus);n.blurEvent.subscribe(this._onMenuItemBlur);n.cfg.configChangedEvent.subscribe(this._onMenuItemConfigChange,n,this)},_getOffsetWidth:function(){var p=this.element.cloneNode(true),o=this.getRoot(),n=o.element.parentNode,q;c.removeClass(p,"visible");c.setStyle(p,"width","");if(n){n.appendChild(p);q=p.offsetWidth;n.removeChild(p);return q}},_setWidth:function(){var o=this.element,n=c.removeClass(o,"visible"),p;if(o.parentNode.tagName.toUpperCase()=="BODY"){if(YAHOO.env.ua.opera){p=this._getOffsetWidth()}else{c.setStyle(o,"width","auto");p=o.offsetWidth}}else{p=this._getOffsetWidth()}this.cfg.setProperty("width",(p+"px"));if(n){c.addClass(o,"visible")}},_onWidthChange:function(o,n){var p=n[0];if(p&&!this._hasSetWidthHandlers){this.itemAddedEvent.subscribe(this._setWidth);this.itemRemovedEvent.subscribe(this._setWidth);this._hasSetWidthHandlers=true}else{if(this._hasSetWidthHandlers){this.itemAddedEvent.unsubscribe(this._setWidth);this.itemRemovedEvent.unsubscribe(this._setWidth);this._hasSetWidthHandlers=false}}},_onVisibleChange:function(p,o){var n=o[0];if(n){c.addClass(this.element,"visible")}else{c.removeClass(this.element,"visible")}},_cancelHideDelay:function(){var n=this.getRoot();if(n._nHideDelayId){window.clearTimeout(n._nHideDelayId)}},_execHideDelay:function(){this._cancelHideDelay();var o=this.getRoot(),p=this;function n(){if(o.activeItem){o.clearActiveItem()}if(o==p&&!(p instanceof YAHOO.widget.MenuBar)&&p.cfg.getProperty("position")=="dynamic"){p.hide()}}o._nHideDelayId=window.setTimeout(n,o.cfg.getProperty("hidedelay"))},_cancelShowDelay:function(){var n=this.getRoot();if(n._nShowDelayId){window.clearTimeout(n._nShowDelayId)}},_execShowDelay:function(p){var o=this.getRoot();function n(){if(p.parent.cfg.getProperty("selected")){p.show()}}o._nShowDelayId=window.setTimeout(n,o.cfg.getProperty("showdelay"))},_execSubmenuHideDelay:function(q,o,n){var p=this;q._nSubmenuHideDelayId=window.setTimeout(function(){if(p._nCurrentMouseX>(o+10)){q._nSubmenuHideDelayId=window.setTimeout(function(){q.hide()},n)}else{q.hide()}},50)},_disableScrollHeader:function(){if(!this._bHeaderDisabled){c.addClass(this.header,"topscrollbar_disabled");this._bHeaderDisabled=true}},_disableScrollFooter:function(){if(!this._bFooterDisabled){c.addClass(this.footer,"bottomscrollbar_disabled");this._bFooterDisabled=true}},_enableScrollHeader:function(){if(this._bHeaderDisabled){c.removeClass(this.header,"topscrollbar_disabled");this._bHeaderDisabled=false}},_enableScrollFooter:function(){if(this._bFooterDisabled){c.removeClass(this.footer,"bottomscrollbar_disabled");this._bFooterDisabled=false}},_onMouseOver:function(w,r){if(this._bStopMouseEventHandlers){return false}var x=r[0],v=r[1],n=m.getTarget(x),o,q,u,p,t,s;if(!this._bHandledMouseOverEvent&&(n==this.element||c.isAncestor(this.element,n))){this._nCurrentMouseX=0;m.on(this.element,"mousemove",this._onMouseMove,this,true);this.clearActiveItem();if(this.parent&&this._nSubmenuHideDelayId){window.clearTimeout(this._nSubmenuHideDelayId);this.parent.cfg.setProperty("selected",true);o=this.parent.parent;o._bHandledMouseOutEvent=true;o._bHandledMouseOverEvent=false}this._bHandledMouseOverEvent=true;this._bHandledMouseOutEvent=false}if(v&&!v.handledMouseOverEvent&&!v.cfg.getProperty("disabled")&&(n==v.element||c.isAncestor(v.element,n))){q=this.cfg.getProperty("showdelay");u=(q>0);if(u){this._cancelShowDelay()}p=this.activeItem;if(p){p.cfg.setProperty("selected",false)}t=v.cfg;t.setProperty("selected",true);if(this.hasFocus()){v.focus()}if(this.cfg.getProperty("autosubmenudisplay")){s=t.getProperty("submenu");if(s){if(u){this._execShowDelay(s)}else{s.show()}}}v.handledMouseOverEvent=true;v.handledMouseOutEvent=false}},_onMouseOut:function(v,p){if(this._bStopMouseEventHandlers){return false}var w=p[0],t=p[1],q=m.getRelatedTarget(w),u=false,s,r,n,o;if(t&&!t.cfg.getProperty("disabled")){s=t.cfg;r=s.getProperty("submenu");if(r&&(q==r.element||c.isAncestor(r.element,q))){u=true}if(!t.handledMouseOutEvent&&((q!=t.element&&!c.isAncestor(t.element,q))||u)){if(!u){t.cfg.setProperty("selected",false);if(r){n=this.cfg.getProperty("submenuhidedelay");o=this.cfg.getProperty("showdelay");if(!(this instanceof YAHOO.widget.MenuBar)&&n>0&&o>=n){this._execSubmenuHideDelay(r,m.getPageX(w),n)}else{r.hide()}}}t.handledMouseOutEvent=true;t.handledMouseOverEvent=false}}if(!this._bHandledMouseOutEvent&&((q!=this.element&&!c.isAncestor(this.element,q))||u)){m.removeListener(this.element,"mousemove",this._onMouseMove);this._nCurrentMouseX=m.getPageX(w);this._bHandledMouseOutEvent=true;this._bHandledMouseOverEvent=false}},_onMouseMove:function(o,n){if(this._bStopMouseEventHandlers){return false}this._nCurrentMouseX=m.getPageX(o)},_onClick:function(u,p){var v=p[0],s=p[1],n,r,q,t,w,o;if(s&&!s.cfg.getProperty("disabled")){n=m.getTarget(v);r=s.cfg;q=r.getProperty("submenu");if(n==s.submenuIndicator&&q){if(q.cfg.getProperty("visible")){q.hide();q.parent.focus()}else{this.clearActiveItem();r.setProperty("selected",true);q.show();q.setInitialFocus()}m.preventDefault(v)}else{t=r.getProperty("url");if((t.substr(0,1)=="#")){m.preventDefault(v);s.focus()}if(!q){o=this.getRoot();if(o instanceof YAHOO.widget.MenuBar||o.cfg.getProperty("position")=="static"){o.clearActiveItem()}else{if(o.cfg.getProperty("clicktohide")){o.hide()}}}}}},_onKeyDown:function(B,v){var y=v[0],x=v[1],F=this,u,z,o,s,C,n,E,r,A,q,w,D,t;function p(){F._bStopMouseEventHandlers=true;window.setTimeout(function(){F._bStopMouseEventHandlers=false},10)}if(x&&!x.cfg.getProperty("disabled")){z=x.cfg;o=this.parent;switch(y.keyCode){case 38:case 40:C=(y.keyCode==38)?x.getPreviousEnabledSibling():x.getNextEnabledSibling();if(C){this.clearActiveItem();C.cfg.setProperty("selected",true);C.focus();if(this.cfg.getProperty("maxheight")>0){n=this.body;E=n.scrollTop;r=n.offsetHeight;A=this.getItems();q=A.length-1;w=C.element.offsetTop;if(y.keyCode==40){if(w>=(r+E)){n.scrollTop=w-r}else{if(w<=E){n.scrollTop=0}}if(C==A[q]){n.scrollTop=C.element.offsetTop}}else{if(w<=E){n.scrollTop=w-C.element.offsetHeight}else{if(w>=(E+r)){n.scrollTop=w}}if(C==A[0]){n.scrollTop=0}}E=n.scrollTop;D=n.scrollHeight-n.offsetHeight;if(E===0){this._disableScrollHeader();this._enableScrollFooter()}else{if(E==D){this._enableScrollHeader();this._disableScrollFooter()}else{this._enableScrollHeader();this._enableScrollFooter()}}}}m.preventDefault(y);p();break;case 39:u=z.getProperty("submenu");if(u){if(!z.getProperty("selected")){z.setProperty("selected",true)}u.show();u.setInitialFocus();u.setInitialSelection()}else{s=this.getRoot();if(s instanceof YAHOO.widget.MenuBar){C=s.activeItem.getNextEnabledSibling();if(C){s.clearActiveItem();C.cfg.setProperty("selected",true);u=C.cfg.getProperty("submenu");if(u){u.show()}C.focus()}}}m.preventDefault(y);p();break;case 37:if(o){t=o.parent;if(t instanceof YAHOO.widget.MenuBar){C=t.activeItem.getPreviousEnabledSibling();if(C){t.clearActiveItem();C.cfg.setProperty("selected",true);u=C.cfg.getProperty("submenu");if(u){u.show()}C.focus()}}else{this.hide();o.focus()}}m.preventDefault(y);p();break}}if(y.keyCode==27){if(this.cfg.getProperty("position")=="dynamic"){this.hide();if(this.parent){this.parent.focus()}}else{if(this.activeItem){u=this.activeItem.cfg.getProperty("submenu");if(u&&u.cfg.getProperty("visible")){u.hide();this.activeItem.focus()}else{this.activeItem.blur();this.activeItem.cfg.setProperty("selected",false)}}}m.preventDefault(y)}},_onKeyPress:function(p,o){var n=o[0];if(n.keyCode==40||n.keyCode==38){m.preventDefault(n)}},_onTextResize:function(o,n,p){if(YAHOO.env.ua.gecko&&!this._handleResize){this._handleResize=true;return}var q=this.cfg;if(q.getProperty("position")=="dynamic"){q.setProperty("width",(this._getOffsetWidth()+"px"))}},_onScrollTargetMouseOver:function(s,v){this._cancelHideDelay();var p=m.getTarget(s),q=this.body,u=this,n,o;function t(){var w=q.scrollTop;if(w<n){q.scrollTop=(w+1);u._enableScrollHeader()}else{q.scrollTop=n;window.clearInterval(u._nBodyScrollId);u._disableScrollFooter()}}function r(){var w=q.scrollTop;if(w>0){q.scrollTop=(w-1);u._enableScrollFooter()}else{q.scrollTop=0;window.clearInterval(u._nBodyScrollId);u._disableScrollHeader()}}if(c.hasClass(p,"hd")){o=r}else{n=q.scrollHeight-q.offsetHeight;o=t}this._nBodyScrollId=window.setInterval(o,10)},_onScrollTargetMouseOut:function(o,n){window.clearInterval(this._nBodyScrollId);this._cancelHideDelay()},_onInit:function(o,n){this.cfg.subscribeToConfigEvent("width",this._onWidthChange);this.cfg.subscribeToConfigEvent("visible",this._onVisibleChange);var p=!this.parent,q=this.lazyLoad;if(((p&&!q)||(p&&(this.cfg.getProperty("visible")||this.cfg.getProperty("position")=="static"))||(!p&&!q))&&this.getItemGroups().length===0){if(this.srcElement){this._initSubTree()}if(this.itemData){this.addItems(this.itemData)}}else{if(q){this.cfg.fireQueue()}}},_onBeforeRender:function(v,q){var r=this.cfg,p=this.element,s=this._aListElements.length,t=true,o=0,n,u;if(s>0){do{n=this._aListElements[o];if(n){if(t){c.addClass(n,"first-of-type");t=false}if(!c.isAncestor(p,n)){this.appendToBody(n)}u=this._aGroupTitleElements[o];if(u){if(!c.isAncestor(p,u)){n.parentNode.insertBefore(u,n)}c.addClass(n,"hastitle")}}o++}while(o<s)}},_onRender:function(o,n){d.textResizeEvent.subscribe(this._onTextResize,this,true);if(this.cfg.getProperty("position")=="dynamic"&&!this.cfg.getProperty("width")){this._setWidth()}},_onBeforeShow:function(w,s){var v,o,u,r,q,p,t;if(this.lazyLoad&&this.getItemGroups().length===0){if(this.srcElement){this._initSubTree()}if(this.itemData){if(this.parent&&this.parent.parent&&this.parent.parent.srcElement&&this.parent.parent.srcElement.tagName.toUpperCase()=="SELECT"){v=this.itemData.length;for(o=0;o<v;o++){if(this.itemData[o].tagName){this.addItem((new this.ITEM_TYPE(this.itemData[o])))}}}else{this.addItems(this.itemData)}}t=this.srcElement;if(t){if(t.tagName.toUpperCase()=="SELECT"){if(c.inDocument(t)){this.render(t.parentNode)}else{this.render(this.cfg.getProperty("container"))}}else{this.render()}}else{if(this.parent){this.render(this.parent.element)}else{this.render(this.cfg.getProperty("container"));this.cfg.refireEvent("xy")}}}if(!(this instanceof YAHOO.widget.MenuBar)&&this.cfg.getProperty("position")=="dynamic"){u=c.getViewportHeight();if(this.parent&&this.parent.parent instanceof YAHOO.widget.MenuBar){r=YAHOO.util.Region.getRegion(this.parent.element);u=(u-r.bottom)}if(this.element.offsetHeight>=u){q=this.cfg.getProperty("maxheight");this._nMaxHeight=q}if(this.cfg.getProperty("maxheight")>0){p=this.body;if(p.scrollTop>0){p.scrollTop=0}this._disableScrollHeader();this._enableScrollFooter()}}},_onShow:function(q,p){var t=this.parent,s,n,o;function r(v){var u;if(v.type=="mousedown"||(v.type=="keydown"&&v.keyCode==27)){u=m.getTarget(v);if(u!=s.element||!c.isAncestor(s.element,u)){s.cfg.setProperty("autosubmenudisplay",false);m.removeListener(document,"mousedown",r);m.removeListener(document,"keydown",r)}}}if(t){s=t.parent;n=s.cfg.getProperty("submenualignment");o=this.cfg.getProperty("submenualignment");if((n[0]!=o[0])&&(n[1]!=o[1])){this.cfg.setProperty("submenualignment",[n[0],n[1]])}if(!s.cfg.getProperty("autosubmenudisplay")&&(s instanceof YAHOO.widget.MenuBar||s.cfg.getProperty("position")=="static")){s.cfg.setProperty("autosubmenudisplay",true);m.on(document,"mousedown",r);m.on(document,"keydown",r)}}},_onBeforeHide:function(p,o){var n=this.activeItem,r,q;if(n){r=n.cfg;r.setProperty("selected",false);q=r.getProperty("submenu");if(q){q.hide()}}if(this.getRoot()==this){this.blur()}},_onHide:function(o,n){if(this._nMaxHeight!=-1){this.cfg.setProperty("maxheight",this._nMaxHeight);this._nMaxHeight=-1}},_onParentMenuConfigChange:function(o,n,r){var p=n[0][0],q=n[0][1];switch(p){case"iframe":case"constraintoviewport":case"hidedelay":case"showdelay":case"submenuhidedelay":case"clicktohide":case"effect":case"classname":r.cfg.setProperty(p,q);break}},_onParentMenuRender:function(o,n,s){var p=s.parent.parent,q={constraintoviewport:p.cfg.getProperty("constraintoviewport"),xy:[0,0],clicktohide:p.cfg.getProperty("clicktohide"),effect:p.cfg.getProperty("effect"),showdelay:p.cfg.getProperty("showdelay"),hidedelay:p.cfg.getProperty("hidedelay"),submenuhidedelay:p.cfg.getProperty("submenuhidedelay"),classname:p.cfg.getProperty("classname")},r;if(this.cfg.getProperty("position")==p.cfg.getProperty("position")){q.iframe=p.cfg.getProperty("iframe")}s.cfg.applyConfig(q);if(!this.lazyLoad){r=this.parent.element;if(this.element.parentNode==r){this.render()}else{this.render(r)}}},_onSubmenuBeforeShow:function(p,o){var q=this.parent,n=q.parent.cfg.getProperty("submenualignment");this.cfg.setProperty("context",[q.element,n[0],n[1]]);var r=q.parent.body.scrollTop;if(this.cfg.getProperty("y")<0){this.cfg.setProperty("y",0)}},_onMenuItemFocus:function(o,n){this.parent.focusEvent.fire(this)},_onMenuItemBlur:function(o,n){this.parent.blurEvent.fire(this)},_onMenuItemConfigChange:function(p,o,n){var r=o[0][0],s=o[0][1],q;switch(r){case"selected":if(s===true){this.activeItem=n}break;case"submenu":q=o[0][1];if(q){this._configureSubmenu(n)}break;case"text":case"helptext":if(this.element.style.width){this.cfg.setProperty("width",(this._getOffsetWidth()+"px"))}break}},enforceConstraints:function(q,p,w){var K=this.parent,D,s,t,v,u,r,F,J,C,H,G,B,A,I,o,n,E,z;if(K&&!(K.parent instanceof YAHOO.widget.MenuBar)){D=this.element;s=this.cfg;t=p[0];v=t[0];u=t[1];r=D.offsetHeight;F=D.offsetWidth;J=c.getViewportWidth();C=c.getViewportHeight();H=c.getDocumentScrollLeft();G=c.getDocumentScrollTop();B=(K.parent instanceof YAHOO.widget.MenuBar)?0:10;A=G+B;I=H+B;o=G+C-r-B;n=H+J-F-B;E=s.getProperty("context");z=E?E[0]:null;if(v<10){v=I}else{if((v+F)>J){if(z&&((v-z.offsetWidth)>F)){v=(v-(z.offsetWidth+F))}else{v=n}}}if(u<10){u=A}else{if(u>o){if(z&&(u>r)){u=((u+z.offsetHeight)-r)}else{u=o}}}s.setProperty("x",v,true);s.setProperty("y",u,true);s.setProperty("xy",[v,u],true)}else{if(this==this.getRoot()&&this.cfg.getProperty("position")=="dynamic"){f.superclass.enforceConstraints.call(this,q,p,w)}}},configVisible:function(p,o,q){var n,r;if(this.cfg.getProperty("position")=="dynamic"){f.superclass.configVisible.call(this,p,o,q)}else{n=o[0];r=c.getStyle(this.element,"display");c.setStyle(this.element,"visibility","visible");if(n){if(r!="block"){this.beforeShowEvent.fire();c.setStyle(this.element,"display","block");this.showEvent.fire()}}else{if(r=="block"){this.beforeHideEvent.fire();c.setStyle(this.element,"display","none");this.hideEvent.fire()}}}},configPosition:function(p,o,s){var r=this.element,q=o[0]=="static"?"static":"absolute",u=c.getStyle(r,"position"),t=this.cfg,n;c.setStyle(this.element,"position",q);if(q=="static"){t.setProperty("iframe",false);c.setStyle(this.element,"display","block");t.setProperty("visible",true)}else{if(u!="absolute"){t.setProperty("iframe",(h.ie==6?true:false))}c.setStyle(this.element,"visibility","hidden")}if(q=="absolute"){n=t.getProperty("zindex");if(!n||n===0){n=this.parent?(this.parent.parent.cfg.getProperty("zindex")+1):1;t.setProperty("zindex",n)}}},configIframe:function(o,n,p){if(this.cfg.getProperty("position")=="dynamic"){f.superclass.configIframe.call(this,o,n,p)}},configHideDelay:function(o,n,r){var t=n[0],s=this.mouseOutEvent,p=this.mouseOverEvent,q=this.keyDownEvent;if(t>0){if(!this._bHideDelayEventHandlersAssigned){s.subscribe(this._execHideDelay);p.subscribe(this._cancelHideDelay);q.subscribe(this._cancelHideDelay);this._bHideDelayEventHandlersAssigned=true}}else{s.unsubscribe(this._execHideDelay);p.unsubscribe(this._cancelHideDelay);q.unsubscribe(this._cancelHideDelay);this._bHideDelayEventHandlersAssigned=false}},configContainer:function(o,n,q){var p=n[0];if(typeof p=="string"){this.cfg.setProperty("container",document.getElementById(p),true)}},_setMaxHeight:function(o,n,p){this.cfg.setProperty("maxheight",p);this.renderEvent.unsubscribe(this._setMaxHeight)},configMaxHeight:function(v,q,t){var p=q[0],o=this.body,u=this.header,n=this.footer,s=this._onScrollTargetMouseOver,w=this._onScrollTargetMouseOut,r;if(this.lazyLoad&&!o){this.renderEvent.unsubscribe(this._setMaxHeight);if(p>0){this.renderEvent.subscribe(this._setMaxHeight,p,this)}return}c.setStyle(o,"height","auto");c.removeClass(o,"yui-menu-body-scrolled");if((p>0)&&(o.offsetHeight>p)){if(!this.cfg.getProperty("width")){this._setWidth()}if(!u&&!n){this.setHeader("&#32;");this.setFooter("&#32;");u=this.header;n=this.footer;c.addClass(u,"topscrollbar");c.addClass(n,"bottomscrollbar");this.element.insertBefore(u,o);this.element.appendChild(n);m.on(u,"mouseover",s,this,true);m.on(u,"mouseout",w,this,true);m.on(n,"mouseover",s,this,true);m.on(n,"mouseout",w,this,true)}c.addClass(o,"yui-menu-body-scrolled");r=(p-(this.footer.offsetHeight+this.header.offsetHeight));c.setStyle(o,"height",(r+"px"))}else{if(u&&n){m.removeListener(u,"mouseover",s);m.removeListener(u,"mouseout",w);m.removeListener(n,"mouseover",s);m.removeListener(n,"mouseout",w);this.element.removeChild(u);this.element.removeChild(n);this.header=null;this.footer=null}}this.cfg.refireEvent("iframe")},configClassName:function(p,o,q){var n=o[0];if(this._sClassName){c.removeClass(this.element,this._sClassName)}c.addClass(this.element,n);this._sClassName=n},_onItemAdded:function(o,n){var p=n[0];if(p){p.cfg.setProperty("disabled",true)}},configDisabled:function(p,o,s){var r=o[0],n=this.getItems(),t,q;if(e.isArray(n)){t=n.length;if(t>0){q=t-1;do{n[q].cfg.setProperty("disabled",r)}while(q--)}if(r){c.addClass(this.element,"disabled");this.itemAddedEvent.subscribe(this._onItemAdded)}else{c.removeClass(this.element,"disabled");this.itemAddedEvent.unsubscribe(this._onItemAdded)}}},onRender:function(r,q){function s(){var v=this.element,u=this._shadow;if(u){u.style.width=(v.offsetWidth+6)+"px";u.style.height=(v.offsetHeight+1)+"px"}}function o(){c.addClass(this._shadow,"yui-menu-shadow-visible")}function n(){c.removeClass(this._shadow,"yui-menu-shadow-visible")}function t(){var v=this._shadow,u,w;if(!v){u=this.element;w=this;if(!g){g=document.createElement("div");g.className="yui-menu-shadow"}v=g.cloneNode(false);u.appendChild(v);this._shadow=v;o.call(this);this.beforeShowEvent.subscribe(o);this.beforeHideEvent.subscribe(n);if(h.ie){window.setTimeout(function(){s.call(w);w.syncIframe()},0);this.cfg.subscribeToConfigEvent("width",s);this.cfg.subscribeToConfigEvent("height",s);this.cfg.subscribeToConfigEvent("maxheight",s);this.changeContentEvent.subscribe(s);d.textResizeEvent.subscribe(s,w,true);this.destroyEvent.subscribe(function(){d.textResizeEvent.unsubscribe(s,w)})}}}function p(){t.call(this);this.beforeShowEvent.unsubscribe(p)}if(this.cfg.getProperty("position")=="dynamic"){if(this.cfg.getProperty("visible")){t.call(this)}else{this.beforeShowEvent.subscribe(p)}}},initEvents:function(){f.superclass.initEvents.call(this);var n=l.LIST;this.mouseOverEvent=this.createEvent(a.MOUSE_OVER);this.mouseOverEvent.signature=n;this.mouseOutEvent=this.createEvent(a.MOUSE_OUT);this.mouseOutEvent.signature=n;this.mouseDownEvent=this.createEvent(a.MOUSE_DOWN);this.mouseDownEvent.signature=n;this.mouseUpEvent=this.createEvent(a.MOUSE_UP);this.mouseUpEvent.signature=n;this.clickEvent=this.createEvent(a.CLICK);this.clickEvent.signature=n;this.keyPressEvent=this.createEvent(a.KEY_PRESS);this.keyPressEvent.signature=n;this.keyDownEvent=this.createEvent(a.KEY_DOWN);this.keyDownEvent.signature=n;this.keyUpEvent=this.createEvent(a.KEY_UP);this.keyUpEvent.signature=n;this.focusEvent=this.createEvent(a.FOCUS);this.focusEvent.signature=n;this.blurEvent=this.createEvent(a.BLUR);this.blurEvent.signature=n;this.itemAddedEvent=this.createEvent(a.ITEM_ADDED);this.itemAddedEvent.signature=n;this.itemRemovedEvent=this.createEvent(a.ITEM_REMOVED);this.itemRemovedEvent.signature=n},getRoot:function(){var o=this.parent,n;if(o){n=o.parent;return n?n.getRoot():this}else{return this}},toString:function(){var o="Menu",n=this.id;if(n){o+=(" "+n)}return o},setItemGroupTitle:function(s,r){var q,p,o,n;if(typeof s=="string"&&s.length>0){q=typeof r=="number"?r:0;p=this._aGroupTitleElements[q];if(p){p.innerHTML=s}else{p=document.createElement(this.GROUP_TITLE_TAG_NAME);p.innerHTML=s;this._aGroupTitleElements[q]=p}o=this._aGroupTitleElements.length-1;do{if(this._aGroupTitleElements[o]){c.removeClass(this._aGroupTitleElements[o],"first-of-type");n=o}}while(o--);if(n!==null){c.addClass(this._aGroupTitleElements[n],"first-of-type")}this.changeContentEvent.fire()}},addItem:function(n,o){if(n){return this._addItemToGroup(o,n)}},addItems:function(q,p){var s,n,r,o;if(e.isArray(q)){s=q.length;n=[];for(o=0;o<s;o++){r=q[o];if(r){if(e.isArray(r)){n[n.length]=this.addItems(r,o)}else{n[n.length]=this._addItemToGroup(p,r)}}}if(n.length){return n}}},insertItem:function(n,o,p){if(n){return this._addItemToGroup(p,n,o)}},removeItem:function(n,o){var p;if(typeof n!="undefined"){if(n instanceof YAHOO.widget.MenuItem){p=this._removeItemFromGroupByValue(o,n)}else{if(typeof n=="number"){p=this._removeItemFromGroupByIndex(o,n)}}if(p){p.destroy();return p}}},getItems:function(){var p=this._aItemGroups,o,n=[];if(e.isArray(p)){o=p.length;return((o==1)?p[0]:(Array.prototype.concat.apply(n,p)))}},getItemGroups:function(){return this._aItemGroups},getItem:function(n,o){var p;if(typeof n=="number"){p=this._getItemGroup(o);if(p){return p[n]}}},getSubmenus:function(){var o=this.getItems(),s=o.length,n,p,r,q;if(s>0){n=[];for(q=0;q<s;q++){r=o[q];if(r){p=r.cfg.getProperty("submenu");if(p){n[n.length]=p}}}}return n},clearContent:function(){var r=this.getItems(),o=r.length,p=this.element,q=this.body,v=this.header,n=this.footer,u,t,s;if(o>0){s=o-1;do{u=r[s];if(u){t=u.cfg.getProperty("submenu");if(t){this.cfg.configChangedEvent.unsubscribe(this._onParentMenuConfigChange,t);this.renderEvent.unsubscribe(this._onParentMenuRender,t)}this.removeItem(u)}}while(s--)}if(v){m.purgeElement(v);p.removeChild(v)}if(n){m.purgeElement(n);p.removeChild(n)}if(q){m.purgeElement(q);q.innerHTML=""}this.activeItem=null;this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];this.cfg.setProperty("width",null)},destroy:function(){d.textResizeEvent.unsubscribe(this._onTextResize,this);this.clearContent();this._aItemGroups=null;this._aListElements=null;this._aGroupTitleElements=null;f.superclass.destroy.call(this)},setInitialFocus:function(){var n=this._getFirstEnabledItem();if(n){n.focus()}},setInitialSelection:function(){var n=this._getFirstEnabledItem();if(n){n.cfg.setProperty("selected",true)}},clearActiveItem:function(p){if(this.cfg.getProperty("showdelay")>0){this._cancelShowDelay()}var n=this.activeItem,q,o;if(n){q=n.cfg;if(p){n.blur()}q.setProperty("selected",false);o=q.getProperty("submenu");if(o){o.hide()}this.activeItem=null}},focus:function(){if(!this.hasFocus()){this.setInitialFocus()}},blur:function(){var n;if(this.hasFocus()){n=k.getFocusedMenuItem();if(n){n.blur()}}},hasFocus:function(){return(k.getFocusedMenu()==this.getRoot())},subscribe:function(){function r(t,s,v){var w=s[0],u=w.cfg.getProperty("submenu");if(u){u.subscribe.apply(u,v)}}f.superclass.subscribe.apply(this,arguments);f.superclass.subscribe.call(this,"itemAdded",r,arguments);var n=this.getSubmenus(),p,o,q;if(n){p=n.length;if(p>0){q=p-1;do{o=n[q];o.subscribe.apply(o,arguments)}while(q--)}}},initDefaultConfig:function(){f.superclass.initDefaultConfig.call(this);var n=this.cfg;n.addProperty(j.VISIBLE.key,{handler:this.configVisible,value:j.VISIBLE.value,validator:j.VISIBLE.validator});n.addProperty(j.CONSTRAIN_TO_VIEWPORT.key,{handler:this.configConstrainToViewport,value:j.CONSTRAIN_TO_VIEWPORT.value,validator:j.CONSTRAIN_TO_VIEWPORT.validator,supercedes:j.CONSTRAIN_TO_VIEWPORT.supercedes});n.addProperty(j.POSITION.key,{handler:this.configPosition,value:j.POSITION.value,validator:j.POSITION.validator,supercedes:j.POSITION.supercedes});n.addProperty(j.SUBMENU_ALIGNMENT.key,{value:j.SUBMENU_ALIGNMENT.value});n.addProperty(j.AUTO_SUBMENU_DISPLAY.key,{value:j.AUTO_SUBMENU_DISPLAY.value,validator:j.AUTO_SUBMENU_DISPLAY.validator});n.addProperty(j.SHOW_DELAY.key,{value:j.SHOW_DELAY.value,validator:j.SHOW_DELAY.validator});n.addProperty(j.HIDE_DELAY.key,{handler:this.configHideDelay,value:j.HIDE_DELAY.value,validator:j.HIDE_DELAY.validator,suppressEvent:j.HIDE_DELAY.suppressEvent});n.addProperty(j.SUBMENU_HIDE_DELAY.key,{value:j.SUBMENU_HIDE_DELAY.value,validator:j.SUBMENU_HIDE_DELAY.validator});n.addProperty(j.CLICK_TO_HIDE.key,{value:j.CLICK_TO_HIDE.value,validator:j.CLICK_TO_HIDE.validator});n.addProperty(j.CONTAINER.key,{handler:this.configContainer,value:document.body});n.addProperty(j.MAX_HEIGHT.key,{handler:this.configMaxHeight,value:j.MAX_HEIGHT.value,validator:j.MAX_HEIGHT.validator});n.addProperty(j.CLASS_NAME.key,{handler:this.configClassName,value:j.CLASS_NAME.value,validator:j.CLASS_NAME.validator});n.addProperty(j.DISABLED.key,{handler:this.configDisabled,value:j.DISABLED.value,validator:j.DISABLED.validator,suppressEvent:j.DISABLED.suppressEvent})}})})();(function(){YAHOO.widget.MenuItem=function(k,j){if(k){if(j){this.parent=j.parent;this.value=j.value;this.id=j.id}this.init(k,j)}};var b=YAHOO.util.Dom,c=YAHOO.widget.Module,e=YAHOO.widget.Menu,h=YAHOO.widget.MenuItem,i=YAHOO.util.CustomEvent,f=YAHOO.lang,d,a={MOUSE_OVER:"mouseover",MOUSE_OUT:"mouseout",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",CLICK:"click",KEY_PRESS:"keypress",KEY_DOWN:"keydown",KEY_UP:"keyup",ITEM_ADDED:"itemAdded",ITEM_REMOVED:"itemRemoved",FOCUS:"focus",BLUR:"blur",DESTROY:"destroy"},g={TEXT:{key:"text",value:"",validator:f.isString,suppressEvent:true},HELP_TEXT:{key:"helptext",supercedes:["text"]},URL:{key:"url",value:"#",suppressEvent:true},TARGET:{key:"target",suppressEvent:true},EMPHASIS:{key:"emphasis",value:false,validator:f.isBoolean,suppressEvent:true,supercedes:["text"]},STRONG_EMPHASIS:{key:"strongemphasis",value:false,validator:f.isBoolean,suppressEvent:true,supercedes:["text"]},CHECKED:{key:"checked",value:false,validator:f.isBoolean,suppressEvent:true,supercedes:["text"]},DISABLED:{key:"disabled",value:false,validator:f.isBoolean,suppressEvent:true,supercedes:["text"]},SELECTED:{key:"selected",value:false,validator:f.isBoolean,suppressEvent:true},SUBMENU:{key:"submenu",supercedes:["text"]},ONCLICK:{key:"onclick"},CLASS_NAME:{key:"classname",value:null,validator:f.isString}};h.prototype={COLLAPSED_SUBMENU_INDICATOR_TEXT:"Submenu collapsed.  Click to expand submenu.",EXPANDED_SUBMENU_INDICATOR_TEXT:"Submenu expanded.  Click to collapse submenu.",DISABLED_SUBMENU_INDICATOR_TEXT:"Submenu collapsed.  (Item disabled.)",CHECKED_TEXT:"Menu item checked.",DISABLED_CHECKED_TEXT:"Checked. (Item disabled.)",CSS_CLASS_NAME:"yuimenuitem",CSS_LABEL_CLASS_NAME:"yuimenuitemlabel",SUBMENU_TYPE:null,_oAnchor:null,_oHelpTextEM:null,_oSubmenu:null,_oCheckedIndicator:null,_oOnclickAttributeValue:null,_sClassName:null,constructor:h,index:null,groupIndex:null,parent:null,element:null,srcElement:null,value:null,submenuIndicator:null,browser:c.prototype.browser,id:null,destroyEvent:null,mouseOverEvent:null,mouseOutEvent:null,mouseDownEvent:null,mouseUpEvent:null,clickEvent:null,keyPressEvent:null,keyDownEvent:null,keyUpEvent:null,focusEvent:null,blurEvent:null,init:function(j,r){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=e}this.cfg=new YAHOO.util.Config(this);this.initDefaultConfig();var o=i.LIST,n=this.cfg,p="#",q,k,m,l;if(f.isString(j)){this._createRootNodeStructure();n.queueProperty("text",j)}else{if(j&&j.tagName){switch(j.tagName.toUpperCase()){case"OPTION":this._createRootNodeStructure();n.queueProperty("text",j.text);this.value=j.value;this.srcElement=j;break;case"OPTGROUP":this._createRootNodeStructure();n.queueProperty("text",j.label);this.srcElement=j;this._initSubTree();break;case"LI":q=b.getFirstChild(j);if(q){p=q.getAttribute("href");if(YAHOO.env.ua.ie){p=p.substring(document.location.href.length,p.length)}k=q.getAttribute("target");m=q.innerHTML}this.srcElement=j;this.element=j;this._oAnchor=q;n.setProperty("text",m,true);n.setProperty("url",p,true);n.setProperty("target",k,true);this._initSubTree();break}}}if(this.element){l=this.element.id;if(!l){l=this.id||b.generateId();this.element.id=l}this.id=l;b.addClass(this.element,this.CSS_CLASS_NAME);b.addClass(this._oAnchor,this.CSS_LABEL_CLASS_NAME);this.mouseOverEvent=this.createEvent(a.MOUSE_OVER);this.mouseOverEvent.signature=o;this.mouseOutEvent=this.createEvent(a.MOUSE_OUT);this.mouseOutEvent.signature=o;this.mouseDownEvent=this.createEvent(a.MOUSE_DOWN);this.mouseDownEvent.signature=o;this.mouseUpEvent=this.createEvent(a.MOUSE_UP);this.mouseUpEvent.signature=o;this.clickEvent=this.createEvent(a.CLICK);this.clickEvent.signature=o;this.keyPressEvent=this.createEvent(a.KEY_PRESS);this.keyPressEvent.signature=o;this.keyDownEvent=this.createEvent(a.KEY_DOWN);this.keyDownEvent.signature=o;this.keyUpEvent=this.createEvent(a.KEY_UP);this.keyUpEvent.signature=o;this.focusEvent=this.createEvent(a.FOCUS);this.focusEvent.signature=o;this.blurEvent=this.createEvent(a.BLUR);this.blurEvent.signature=o;this.destroyEvent=this.createEvent(a.DESTROY);this.destroyEvent.signature=o;if(r){n.applyConfig(r)}n.fireQueue()}},_createRootNodeStructure:function(){var j,k;if(!d){d=document.createElement("li");d.innerHTML='<a href="#"></a>'}j=d.cloneNode(true);j.className=this.CSS_CLASS_NAME;k=j.firstChild;k.className=this.CSS_LABEL_CLASS_NAME;this.element=j;this._oAnchor=k},_initSubTree:function(){var q=this.srcElement,l=this.cfg,o,m,k,j,p;if(q.childNodes.length>0){if(this.parent.lazyLoad&&this.parent.srcElement&&this.parent.srcElement.tagName.toUpperCase()=="SELECT"){l.setProperty("submenu",{id:b.generateId(),itemdata:q.childNodes})}else{o=q.firstChild;m=[];do{if(o&&o.tagName){switch(o.tagName.toUpperCase()){case"DIV":l.setProperty("submenu",o);break;case"OPTION":m[m.length]=o;break}}}while((o=o.nextSibling));k=m.length;if(k>0){j=new this.SUBMENU_TYPE(b.generateId());l.setProperty("submenu",j);for(p=0;p<k;p++){j.addItem((new j.ITEM_TYPE(m[p])))}}}}},configText:function(v,m,p){var k=m[0],n=this.cfg,s=this._oAnchor,j=n.getProperty("helptext"),u="",t="",o=n.getProperty("submenu"),l="",q="",r="";if(k){if(j){u='<em class="helptext">'+j+"</em>"}if(n.getProperty("checked")){t='<em class="checkedindicator">'+this.CHECKED_TEXT+"</em>"}if(o){l='<em class="submenuindicator">'+((o instanceof e&&o.cfg.getProperty("visible"))?this.EXPANDED_SUBMENU_INDICATOR_TEXT:this.COLLAPSED_SUBMENU_INDICATOR_TEXT)+"</em>"}if(n.getProperty("emphasis")){q="<em>";r="</em>"}if(n.getProperty("strongemphasis")){q="<strong>";r="</strong>"}s.innerHTML=(q+k+r+u+t+l);if(o){this.submenuIndicator=s.lastChild}}},configHelpText:function(l,k,j){var m=k[0],n=this._oAnchor;if(m){b.addClass(n,"hashelptext")}else{b.removeClass(n,"hashelptext")}this.cfg.refireEvent("text")},configURL:function(l,k,j){var n=k[0];if(!n){n="#"}var m=this._oAnchor;if(YAHOO.env.ua.opera){m.removeAttribute("href")}m.setAttribute("href",n)},configTarget:function(m,l,k){var j=l[0],n=this._oAnchor;if(j&&j.length>0){n.setAttribute("target",j)}else{n.removeAttribute("target")}},configEmphasis:function(l,k,j){var n=k[0],m=this.cfg;if(n&&m.getProperty("strongemphasis")){m.setProperty("strongemphasis",false)}m.refireEvent("text")},configStrongEmphasis:function(m,l,k){var j=l[0],n=this.cfg;if(j&&n.getProperty("emphasis")){n.setProperty("emphasis",false)}n.refireEvent("text")},configChecked:function(l,k,j){var n=k[0],m=this._oAnchor;if(n){b.addClass(m,"checked")}else{b.removeClass(m,"checked")}this.cfg.refireEvent("text")},configDisabled:function(l,k,j){var m=k[0],o=this.cfg,n=this._oAnchor;if(m){if(o.getProperty("selected")){o.setProperty("selected",false)}n.removeAttribute("href");b.addClass(n,"disabled")}else{n.setAttribute("href",o.getProperty("url"));b.removeClass(n,"disabled")}},configSelected:function(l,k,j){var n,m;if(!this.cfg.getProperty("disabled")){n=k[0];m=this._oAnchor;if(YAHOO.env.ua.opera){m.blur()}if(n){b.addClass(m,"selected")}else{b.removeClass(m,"selected")}if(this.hasFocus()&&YAHOO.env.ua.opera){m.focus()}}},_onSubmenuShow:function(l,k){var j=this.submenuIndicator.firstChild;if(j){j.nodeValue=this.EXPANDED_SUBMENU_INDICATOR_TEXT}},_onSubmenuBeforeHide:function(m,l){var n=this.parent,j;function k(){n._oAnchor.blur();j.beforeHideEvent.unsubscribe(k)}if(n.hasFocus()){j=n.parent;j.beforeHideEvent.subscribe(k)}},_onSubmenuHide:function(l,k){var j=this.submenuIndicator.firstChild;if(j){j.nodeValue=this.COLLAPSED_SUBMENU_INDICATOR_TEXT}},configSubmenu:function(s,l,o){var q=this._oAnchor,n=l[0],p=this.submenuIndicator,m=this.cfg,k=this.parent&&this.parent.lazyLoad,r,t,j;if(n){if(n instanceof e){r=n;r.parent=this;r.lazyLoad=k}else{if(typeof n=="object"&&n.id&&!n.nodeType){t=n.id;j=n;j.lazyload=k;j.parent=this;r=new this.SUBMENU_TYPE(t,j);this.cfg.setProperty("submenu",r,true)}else{r=new this.SUBMENU_TYPE(n,{lazyload:k,parent:this});this.cfg.setProperty("submenu",r,true)}}if(r){b.addClass(q,"hassubmenu");this._oSubmenu=r;r.showEvent.subscribe(this._onSubmenuShow,null,this);r.hideEvent.subscribe(this._onSubmenuHide,null,this);if(YAHOO.env.ua.opera){r.beforeHideEvent.subscribe(this._onSubmenuBeforeHide)}}}else{b.removeClass(q,"hassubmenu");if(p){q.removeChild(p)}if(this._oSubmenu){this._oSubmenu.destroy()}}m.refireEvent("text")},configOnClick:function(l,k,j){var m=k[0];if(this._oOnclickAttributeValue&&(this._oOnclickAttributeValue!=m)){this.clickEvent.unsubscribe(this._oOnclickAttributeValue.fn,this._oOnclickAttributeValue.obj);this._oOnclickAttributeValue=null}if(!this._oOnclickAttributeValue&&typeof m=="object"&&typeof m.fn=="function"){this.clickEvent.subscribe(m.fn,((!YAHOO.lang.isUndefined(m.obj))?m.obj:this),m.scope);this._oOnclickAttributeValue=m}},configClassName:function(m,l,k){var j=l[0];if(this._sClassName){b.removeClass(this.element,this._sClassName)}b.addClass(this.element,j);this._sClassName=j},initDefaultConfig:function(){var j=this.cfg;j.addProperty(g.TEXT.key,{handler:this.configText,value:g.TEXT.value,validator:g.TEXT.validator,suppressEvent:g.TEXT.suppressEvent});j.addProperty(g.HELP_TEXT.key,{handler:this.configHelpText});j.addProperty(g.URL.key,{handler:this.configURL,value:g.URL.value,suppressEvent:g.URL.suppressEvent});j.addProperty(g.TARGET.key,{handler:this.configTarget,suppressEvent:g.TARGET.suppressEvent});j.addProperty(g.EMPHASIS.key,{handler:this.configEmphasis,value:g.EMPHASIS.value,validator:g.EMPHASIS.validator,suppressEvent:g.EMPHASIS.suppressEvent});j.addProperty(g.STRONG_EMPHASIS.key,{handler:this.configStrongEmphasis,value:g.STRONG_EMPHASIS.value,validator:g.STRONG_EMPHASIS.validator,suppressEvent:g.STRONG_EMPHASIS.suppressEvent});j.addProperty(g.CHECKED.key,{handler:this.configChecked,value:g.CHECKED.value,validator:g.CHECKED.validator,suppressEvent:g.CHECKED.suppressEvent,supercedes:g.CHECKED.supercedes});j.addProperty(g.DISABLED.key,{handler:this.configDisabled,value:g.DISABLED.value,validator:g.DISABLED.validator,suppressEvent:g.DISABLED.suppressEvent});j.addProperty(g.SELECTED.key,{handler:this.configSelected,value:g.SELECTED.value,validator:g.SELECTED.validator,suppressEvent:g.SELECTED.suppressEvent});j.addProperty(g.SUBMENU.key,{handler:this.configSubmenu});j.addProperty(g.ONCLICK.key,{handler:this.configOnClick});j.addProperty(g.CLASS_NAME.key,{handler:this.configClassName,value:g.CLASS_NAME.value,validator:g.CLASS_NAME.validator})},getNextEnabledSibling:function(){var l,o,j,n,m;function k(p,q){return p[q]||k(p,(q+1))}if(this.parent instanceof e){l=this.groupIndex;o=this.parent.getItemGroups();if(this.index<(o[l].length-1)){j=k(o[l],(this.index+1))}else{if(l<(o.length-1)){n=l+1}else{n=0}m=k(o,n);j=k(m,0)}return(j.cfg.getProperty("disabled")||j.element.style.display=="none")?j.getNextEnabledSibling():j}},getPreviousEnabledSibling:function(){var n,p,k,j,m;function o(q,r){return q[r]||o(q,(r-1))}function l(q,r){return q[r]?r:l(q,(r+1))}if(this.parent instanceof e){n=this.groupIndex;p=this.parent.getItemGroups();if(this.index>l(p[n],0)){k=o(p[n],(this.index-1))}else{if(n>l(p,0)){j=n-1}else{j=p.length-1}m=o(p,j);k=o(m,(m.length-1))}return(k.cfg.getProperty("disabled")||k.element.style.display=="none")?k.getPreviousEnabledSibling():k}},focus:function(){var n=this.parent,m=this._oAnchor,j=n.activeItem,l=this;function k(){try{if(YAHOO.env.ua.ie&&!document.hasFocus()){return}m.focus()}catch(o){}}if(!this.cfg.getProperty("disabled")&&n&&n.cfg.getProperty("visible")&&this.element.style.display!="none"){if(j){j.blur()}window.setTimeout(k,0);this.focusEvent.fire()}},blur:function(){var k=this.parent;if(!this.cfg.getProperty("disabled")&&k&&k.cfg.getProperty("visible")){try{this._oAnchor.blur()}catch(j){}this.blurEvent.fire()}},hasFocus:function(){return(YAHOO.widget.MenuManager.getFocusedMenuItem()==this)},destroy:function(){var l=this.element,k,j;if(l){k=this.cfg.getProperty("submenu");if(k){k.destroy()}this.mouseOverEvent.unsubscribeAll();this.mouseOutEvent.unsubscribeAll();this.mouseDownEvent.unsubscribeAll();this.mouseUpEvent.unsubscribeAll();this.clickEvent.unsubscribeAll();this.keyPressEvent.unsubscribeAll();this.keyDownEvent.unsubscribeAll();this.keyUpEvent.unsubscribeAll();this.focusEvent.unsubscribeAll();this.blurEvent.unsubscribeAll();this.cfg.configChangedEvent.unsubscribeAll();j=l.parentNode;if(j){j.removeChild(l);this.destroyEvent.fire()}this.destroyEvent.unsubscribeAll()}},toString:function(){var k="MenuItem",j=this.id;if(j){k+=(" "+j)}return k}};f.augmentProto(h,YAHOO.util.EventProvider)})();(function(){YAHOO.widget.ContextMenu=function(f,e){YAHOO.widget.ContextMenu.superclass.constructor.call(this,f,e)};var a=YAHOO.util.Event,d=YAHOO.widget.ContextMenu,c={TRIGGER_CONTEXT_MENU:"triggerContextMenu",CONTEXT_MENU:(YAHOO.env.ua.opera?"mousedown":"contextmenu"),CLICK:"click"},b={TRIGGER:{key:"trigger"}};YAHOO.lang.extend(d,YAHOO.widget.Menu,{_oTrigger:null,_bCancelled:false,contextEventTarget:null,triggerContextMenuEvent:null,init:function(f,e){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.ContextMenuItem}d.superclass.init.call(this,f);this.beforeInitEvent.fire(d);if(e){this.cfg.applyConfig(e,true)}this.initEvent.fire(d)},initEvents:function(){d.superclass.initEvents.call(this);this.triggerContextMenuEvent=this.createEvent(c.TRIGGER_CONTEXT_MENU);this.triggerContextMenuEvent.signature=YAHOO.util.CustomEvent.LIST},cancel:function(){this._bCancelled=true},_removeEventHandlers:function(){var e=this._oTrigger;if(e){a.removeListener(e,c.CONTEXT_MENU,this._onTriggerContextMenu);if(YAHOO.env.ua.opera){a.removeListener(e,c.CLICK,this._onTriggerClick)}}},_onTriggerClick:function(f,e){if(f.ctrlKey){a.stopEvent(f)}},_onTriggerContextMenu:function(f,e){if(f.type=="mousedown"&&!f.ctrlKey){return}a.stopEvent(f);YAHOO.widget.MenuManager.hideVisible();this.contextEventTarget=a.getTarget(f);this.triggerContextMenuEvent.fire(f);if(!this._bCancelled){this.cfg.setProperty("xy",a.getXY(f));this.show()}this._bCancelled=false},toString:function(){var f="ContextMenu",e=this.id;if(e){f+=(" "+e)}return f},initDefaultConfig:function(){d.superclass.initDefaultConfig.call(this);this.cfg.addProperty(b.TRIGGER.key,{handler:this.configTrigger})},destroy:function(){this._removeEventHandlers();d.superclass.destroy.call(this)},configTrigger:function(f,e,h){var g=e[0];if(g){if(this._oTrigger){this._removeEventHandlers()}this._oTrigger=g;a.on(g,c.CONTEXT_MENU,this._onTriggerContextMenu,this,true);if(YAHOO.env.ua.opera){a.on(g,c.CLICK,this._onTriggerClick,this,true)}}else{this._removeEventHandlers()}}})}());YAHOO.widget.ContextMenuItem=function(b,a){YAHOO.widget.ContextMenuItem.superclass.constructor.call(this,b,a)};YAHOO.lang.extend(YAHOO.widget.ContextMenuItem,YAHOO.widget.MenuItem,{init:function(b,a){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.ContextMenu}YAHOO.widget.ContextMenuItem.superclass.init.call(this,b);var c=this.cfg;if(a){c.applyConfig(a,true)}c.fireQueue()},toString:function(){var a="ContextMenuItem";if(this.cfg&&this.cfg.getProperty("text")){a+=(": "+this.cfg.getProperty("text"))}return a}});(function(){YAHOO.widget.MenuBar=function(g,f){YAHOO.widget.MenuBar.superclass.constructor.call(this,g,f)};function e(f){if(typeof f=="string"){return("dynamic,static".indexOf((f.toLowerCase()))!=-1)}}var b=YAHOO.util.Event,d=YAHOO.util.Dom,a=YAHOO.widget.MenuBar,c={POSITION:{key:"position",value:"static",validator:e,supercedes:["visible"]},SUBMENU_ALIGNMENT:{key:"submenualignment",value:["tl","bl"]},AUTO_SUBMENU_DISPLAY:{key:"autosubmenudisplay",value:false,validator:YAHOO.lang.isBoolean}};YAHOO.lang.extend(a,YAHOO.widget.Menu,{init:function(g,f){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuBarItem}a.superclass.init.call(this,g);this.beforeInitEvent.fire(a);if(f){this.cfg.applyConfig(f,true)}this.initEvent.fire(a)},CSS_CLASS_NAME:"yuimenubar",_onKeyDown:function(h,g,l){var f=g[0],m=g[1],j,k,i;if(m&&!m.cfg.getProperty("disabled")){k=m.cfg;switch(f.keyCode){case 37:case 39:if(m==this.activeItem&&!k.getProperty("selected")){k.setProperty("selected",true)}else{i=(f.keyCode==37)?m.getPreviousEnabledSibling():m.getNextEnabledSibling();if(i){this.clearActiveItem();i.cfg.setProperty("selected",true);if(this.cfg.getProperty("autosubmenudisplay")){j=i.cfg.getProperty("submenu");if(j){j.show()}}i.focus()}}b.preventDefault(f);break;case 40:if(this.activeItem!=m){this.clearActiveItem();k.setProperty("selected",true);m.focus()}j=k.getProperty("submenu");if(j){if(j.cfg.getProperty("visible")){j.setInitialSelection();j.setInitialFocus()}else{j.show()}}b.preventDefault(f);break}}if(f.keyCode==27&&this.activeItem){j=this.activeItem.cfg.getProperty("submenu");if(j&&j.cfg.getProperty("visible")){j.hide();this.activeItem.focus()}else{this.activeItem.cfg.setProperty("selected",false);this.activeItem.blur()}b.preventDefault(f)}},_onClick:function(m,h,k){a.superclass._onClick.call(this,m,h,k);var l=h[1],n,f,g,i,j;if(l&&!l.cfg.getProperty("disabled")){n=h[0];f=b.getTarget(n);g=this.activeItem;i=this.cfg;if(g&&g!=l){this.clearActiveItem()}l.cfg.setProperty("selected",true);j=l.cfg.getProperty("submenu");if(j&&f!=l.submenuIndicator){if(j.cfg.getProperty("visible")){j.hide()}else{j.show()}}}},toString:function(){var g="MenuBar",f=this.id;if(f){g+=(" "+f)}return g},initDefaultConfig:function(){a.superclass.initDefaultConfig.call(this);var f=this.cfg;f.addProperty(c.POSITION.key,{handler:this.configPosition,value:c.POSITION.value,validator:c.POSITION.validator,supercedes:c.POSITION.supercedes});f.addProperty(c.SUBMENU_ALIGNMENT.key,{value:c.SUBMENU_ALIGNMENT.value});f.addProperty(c.AUTO_SUBMENU_DISPLAY.key,{value:c.AUTO_SUBMENU_DISPLAY.value,validator:c.AUTO_SUBMENU_DISPLAY.validator})}})}());YAHOO.widget.MenuBarItem=function(b,a){YAHOO.widget.MenuBarItem.superclass.constructor.call(this,b,a)};YAHOO.lang.extend(YAHOO.widget.MenuBarItem,YAHOO.widget.MenuItem,{init:function(b,a){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.Menu}YAHOO.widget.MenuBarItem.superclass.init.call(this,b);var c=this.cfg;if(a){c.applyConfig(a,true)}c.fireQueue()},CSS_CLASS_NAME:"yuimenubaritem",CSS_LABEL_CLASS_NAME:"yuimenubaritemlabel",toString:function(){var a="MenuBarItem";if(this.cfg&&this.cfg.getProperty("text")){a+=(": "+this.cfg.getProperty("text"))}return a}});YAHOO.register("menu",YAHOO.widget.Menu,{version:"2.3.1",build:"541"});